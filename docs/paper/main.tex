\documentclass[reprint,amsmath,amssymb,aps]{revtex4-2}

\usepackage{graphicx}
\usepackage{subcaption}
\graphicspath{{figures}}

\begin{document}

\title{Arbitrary Externally-Computed Force Fixes in LAMMPS (the
    \texttt{ARBFN} Package)}

\author{Jordan Dehmel}
\author{Jarrod Schiffbauer}
\affiliation{Colorado Mesa University, 1100 North Avenue,
    Grand Junction, CO 81501-3122}

\begin{abstract}
    The molecular dynamics simulation software LAMMPS
    (Large-scale Atomic/Molecular Massively Parallel Simulator)
    provides a scripting language for the easy implementation of
    experiments: However, it is not all-encompassing. There are
    many situations in which LAMMPS alone is not sufficient and
    some external computation must be used, for example,
    including quantum effects and machine learning control of a
    simulation. Such situations provide some interface for a
    specific program to apply forces on the simulated particles.
    This project outlines the development of a generic protocol
    for this process. Specifically, we introduce an
    externally-controlled arbitrary atomic forcing fix within
    the existing MPI (Message Passing Interface) LAMMPS
    framework \cite{modifying-lammps} \cite{mpi-docs}
    \cite{lammps-docs}. This involves an arbitrary-language
    controller program being instantiated alongside LAMMPS in an
    MPI runtime, then communicating with all LAMMPS instances
    whenever the desired fix must be computed. The protocol
    communicates in JSON (JavaScript Object Notation) strings
    and assumes no linguistic properties beyond a valid MPI
    implementation.
\end{abstract}

\maketitle

\section{Introduction} \label{intro}
\input{sections/intro.tex}

\section{Related Work} \label{related}
\input{sections/related.tex}

\section{Details} \label{body}
\input{sections/body.tex}

\section{Performance Testing} \label{performance}
\input{sections/performance.tex}

\section{Conclusion} \label{conclusion}
    We discussed the implementation of the \texttt{ARBFN}
    package for LAMMPS, including a brief analysis of its
    performance as simulations scaled. This package allows
    LAMMPS fixes which are determined at runtime by arbitrary
    external ``controllers'', either one-and-done
    (\texttt{arbfn/ffield}) or frame-by-frame
    (\texttt{fix arbfn}). Initial testing shows that the former
    performs nearly as well as unmodified LAMMPS, while the
    latter performs about 2 orders of magnitude worse. The
    package is provided as supplementary material with this
    paper.

\begin{acknowledgements}
    Supported by NSF grant 2126451. Based upon work partially
    funded by Colorado Mesa University.
\end{acknowledgements}

\bibliography{refs}

\end{document}
